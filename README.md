[![job4j_todo](https://github.com/Dima-Stepanov/job4j_todo/actions/workflows/maven.yml/badge.svg)](https://github.com/Dima-Stepanov/job4j_todo/actions/workflows/maven.yml)
[![codecov](https://codecov.io/gh/Dima-Stepanov/job4j_todo/branch/main/graph/badge.svg?token=nUzAvTo2FY)](https://codecov.io/gh/Dima-Stepanov/job4j_todo)
<h2>2. Создать TODO list [#3786]</h2>

1. Схема таблицы SQL <br>

![](img/0_table_items_users.jpg) <br>

2. MVC модель приложения и зависимости между формами и запросами. <br>

![](img/MVC.jpg) <br>

3. При входе на сервис Пользователь попадает на страницу авторизации. <br>
   При этом если пользователь не авторизован то возможны переходы на страницы <br>
   "login", "newUser". Со стоаницы "login" возможно зарегистрировать нового пользователя, <br>
   Перейдя по ссылке "Регистрация". При неудачной авторизации, регистрации меняется статус вида <br>

![](img/9_login.jpg) <br>

![](img/10_newUser.jpg) <br>

После авторизации при нажатии на значеке "листок/карандаш" открывается форма редактирования пользователя. <br>
при этом учитывается уникальность имен пользователей, при совпадении имен меняются статус события. <br>

![](img/11_editUser.jpg)<br>

4. Общий вид главной страницы. Отображается все задания авторизованного пользователя. <br>
   Первый столбец отображает имя задания, второй автора, третий дату создания, <br>
   четвертый состояние если галочка задача закрыта, если галочки нет задача открыта. <br>

![](img/1_all_items.jpg) <br>

5.Вкладка выполненные задания отображает завершенные задания авторизованного пользователя. <br>
У всех заданий столбец статус без галочки. <br>

![](img/2_done_items.jpg) <br>

6.Вкладка новые задания отображает не завершенные задания авторизованного пользователя. <br>
У всех заданий столбец статус с галочки. <br>

![](img/3_new_items.jpg) <br>

При нажатии на кнопку "Добавить задание", открывается вид для заполнения полей нового задания. <br>

![](img/4_new_item.jpg) <br>

После нажатия кнопки сохранить отображается детали нового задания.  <br>
Так же отображается статус успешного отображения задания. <br>
При этом новое задание принадлежит авторизованному пользователю <br>

![](img/5_add_item.jpg) <br>

7. На главной странице, а так же на вкладках выполненных и новых заданий, <br>
   перед названием задачи расположена активная ссылка в виде "листа с карандашом". <br>
   При переходе по ссылке открывается форма с деталями задания(полным описанием). <br>
   При этом если задание не завершено то отображается три кнопки, Выполнено, Редактировать, Удалить. <br>

![](img/6_detail_item_new.jpg) <br>

Если задание завершено отображается только две кнопки. Редактировать и Удалить <br>

![](img/6_detail_item_done.jpg) <br>

8. При нажатии на кнопку редактировать открывается форма для редактирования задачи. <br>
   При этом в активных полях записаны текущие значения. <br>

![](img/7_edit_item.jpg) <br>

После редактирования и нажатия кнопки сохранить, открывается форма деталей задачи, <br>
и отображением успешного статуса изменения. <br>
Если осуществлялась редактирование закрытой задачи, то задача становится активной. <br>
У всех отредактированных задач время создания меняется на время редактирования. <br>

![](img/8_save_edit_item.jpg) <br>

9. При нажатии кнопки выполнить задаче присваивается время завершения. <br>
   И задача переходит в статус завершенной. <br>

10. При нажатии на кнопку удалить, задача удаляется и открывается главная страница, <br>
    при этом отражается статус успешного выполнения задачи. <br>

Реализация: <br>
Согласно ТЗ реализовано три слоя: Контроллеры, Сервисы, Персистенции. <br>
Стек технологий: Spring boot, Thymeleaf, Bootstrap, Hibernate, PostgreSql. <br>
На классы Store и Controller написаны тесты liquibase и mockito соответственно. <br>
Добавлен фильтр Servlet Filter для работы с сервисом только авторизованным пользоваттелям <br>